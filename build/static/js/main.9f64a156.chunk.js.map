{"version":3,"sources":["errorMessages.js","services.js","storeContext.js","Login.jsx","Logout.jsx","CartPageIndividualProduct.jsx","storeUtil.js","CartPage.jsx","AddToCart.jsx","AddReview.jsx","DisplayReviews.jsx","ProductReviews.jsx","DetailPageIndividualProduct.jsx","HomePageIndividualProduct.jsx","productsUtil.js","Controls.jsx","HomePageAllProducts.jsx","OrdersPageIndividualOrder.jsx","MyOrders.jsx","Store.jsx","App.jsx","serviceWorker.js","index.js"],"names":["errorMessages","DEFAULT","USERNAME_REQUIRED","PASSWORD_REQUIRED","NETWORK_ERROR","LOGIN_REQUIRED","LOGIN_UNAUTHORIZED","INVALID_USERNAME","UNPERMITTED_USERNAME","EMPTY_USERNAME","BAD_LOGIN","USER_NOTFOUND","USER_UNAUTHORIZED","SERVER_CONNECTION","NO_ERROR","addToCart","productId","quantity","fetch","method","headers","Headers","body","JSON","stringify","catch","Promise","reject","code","then","response","ok","json","status","result","UserContext","createContext","ErrorContext","ProductContext","CartContext","OrderContext","Login","useContext","setUserState","userState","setError","error","useState","username","setUsername","password","setPassword","useEffect","className","value","onChange","e","target","required","placeholder","type","onClick","loggingOut","sendLogin","sessionInfo","isLoggedIn","err","Logout","history","useHistory","push","CartPageIndividualProduct","products","setProducts","cart","setCart","setQuantity","successMessage","setSuccessMessage","submitToCart","latestCart","setTimeout","to","selected","product","ratingSum","ratingCount","reviews","index","length","Math","round","rating","ratingDisplay","i","j","entity","totalValue","Object","keys","forEach","element","withRouter","setOrders","orders","map","storeUtil","AddToCart","AddReview","setRating","reviewText","setReviewText","text","addReview","currentProducts","DisplayReviews","renderEachReview","reviewIndex","key","reviewUtil","ProductReviews","useParams","src","alt","detailProductDisplay","methods","nameAscending","nameDescending","priceAscending","priceDescending","AverageRatingDescending","sortProducts","by","list","elementsArray","sort","a","b","Controls","sortBy","setSortBy","buttons","htmlFor","HomePageAllProducts","productSearchString","setProductSearchString","filteredProducts","setFilteredProducts","searchString","trim","reduce","toLowerCase","includes","OrdersPageIndividualOrder","orderDetails","orderTime","MyOrders","productsList","Provider","exact","path","component","DetailPageIndividualProduct","CartPage","App","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","console","message"],"mappings":"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","file":"static/js/main.9f64a156.chunk.js","sourcesContent":["const errorMessages = {\r\n    DEFAULT: 'Oh no!  Something went wrong, please try again',\r\n    USERNAME_REQUIRED: 'Username is required',\r\n    PASSWORD_REQUIRED: 'Password is required',\r\n    NETWORK_ERROR: 'There was a problem reaching your network, please try again',\r\n    LOGIN_REQUIRED: 'You must be logged in to view this content',\r\n    LOGIN_UNAUTHORIZED: 'You are not permitted to view this content',\r\n    INVALID_USERNAME: 'Invalid username',\r\n    UNPERMITTED_USERNAME: 'Username should not contain word dog',\r\n    EMPTY_USERNAME: 'Username should not contain whitespace',\r\n    BAD_LOGIN: 'Bad login',\r\n    USER_NOTFOUND: 'Could not find user',\r\n    USER_UNAUTHORIZED: 'User needs to login to be authorized',\r\n    SERVER_CONNECTION: 'Oh no! Could not connect to server. Please try again',\r\n    NO_ERROR: ''\r\n};\r\n\r\nexport default errorMessages;","export const fetchLoginStatus = (username) => {\r\n    return fetch('/session', {\r\n        method: 'GET',\r\n    })\r\n        .catch(() => {\r\n            return Promise.reject({ code: 'NETWORK_ERROR' });\r\n        })\r\n        .then(response => {\r\n            if (!response.ok) {\r\n                if (response.status === 500 || response.status === 503) {\r\n                    return Promise.reject({ code: 'SERVER_CONNECTION' });\r\n                }\r\n\r\n                return response.json().then(result => Promise.reject(result));\r\n            }\r\n\r\n            return response.json();\r\n        });\r\n};\r\n\r\nexport const sendLogin = (username, password) => {\r\n    return fetch('/session', {\r\n        method: 'POST',\r\n        headers: new Headers({\r\n            'content-type': 'application/json',\r\n        }),\r\n        body: JSON.stringify({ username, password }),\r\n    })\r\n        .catch(() => {\r\n            return Promise.reject({ code: 'NETWORK_ERROR' });\r\n        })\r\n        .then(response => {\r\n            if (!response.ok) {\r\n                if (response.status === 500 || response.status === 503) {\r\n                    return Promise.reject({ code: 'SERVER_CONNECTION' });\r\n                }\r\n\r\n                return response.json().then(result => Promise.reject(result));\r\n            }\r\n\r\n            return response.json();\r\n        });\r\n};\r\n\r\nexport const logoutUser = () => {\r\n    return fetch('/session', {\r\n        method: 'DELETE',\r\n    })\r\n        .catch(() => {\r\n            return Promise.reject({ code: 'NETWORK_ERROR' });\r\n        })\r\n        .then(response => {\r\n            return response.ok;\r\n        });\r\n};\r\n\r\nexport const fetchProducts = () => {\r\n    return fetch('/products/', {\r\n        method: 'GET',\r\n    })\r\n        .catch(() => {\r\n            return Promise.reject({ code: 'NETWORK_ERROR' });\r\n        })\r\n        .then((response) => {\r\n            if (!response.ok) {\r\n                if (response.status === 500 || response.status === 503) {\r\n                    return Promise.reject({ code: 'SERVER_CONNECTION' });\r\n                }\r\n\r\n                return response.json().then(result => Promise.reject(result));\r\n            }\r\n            return response.json();\r\n        });\r\n};\r\n\r\nexport const fetchCart = () => {\r\n    return fetch('/cart/', {\r\n        method: 'GET',\r\n    })\r\n        .catch(() => {\r\n            return Promise.reject({ code: 'NETWORK_ERROR' });\r\n        })\r\n        .then((response) => {\r\n            if (!response.ok) {\r\n                if (response.status === 500 || response.status === 503) {\r\n                    return Promise.reject({ code: 'SERVER_CONNECTION' });\r\n                }\r\n\r\n                return response.json().then(result => Promise.reject(result));\r\n            }\r\n\r\n            return response.json();\r\n        });\r\n};\r\n\r\nexport const fetchOrders = () => {\r\n    return fetch('/orders/', {\r\n        method: 'GET',\r\n    })\r\n        .catch(() => {\r\n            return Promise.reject({ code: 'NETWORK_ERROR' });\r\n        })\r\n        .then((response) => {\r\n            if (!response.ok) {\r\n                if (response.status === 500 || response.status === 503) {\r\n                    return Promise.reject({ code: 'SERVER_CONNECTION' });\r\n                }\r\n\r\n                return response.json().then(result => Promise.reject(result));\r\n            }\r\n\r\n            return response.json();\r\n        });\r\n};\r\n\r\nexport const addReview = (rating, text, productId) => {\r\n    return fetch('/review', {\r\n        method: 'POST',\r\n        headers: new Headers({\r\n            'content-type': 'application/json',\r\n        }),\r\n        body: JSON.stringify({ rating, text, productId }),\r\n    })\r\n        .catch(() => {\r\n            return Promise.reject({ code: 'NETWORK_ERROR' });\r\n        })\r\n        .then((response) => {\r\n            if (!response.ok) {\r\n                if (response.status === 500 || response.status === 503) {\r\n                    return Promise.reject({ code: 'SERVER_CONNECTION' });\r\n                }\r\n\r\n                return response.json().then(result => Promise.reject(result));\r\n            }\r\n\r\n            return response.json();\r\n        });\r\n};\r\n\r\nexport const addToCart = (productId, quantity) => {\r\n    return fetch('/cart', {\r\n        method: 'POST',\r\n        headers: new Headers({\r\n            'content-type': 'application/json',\r\n        }),\r\n        body: JSON.stringify({ productId, quantity }),\r\n    })\r\n        .catch(() => {\r\n            return Promise.reject({ code: 'NETWORK_ERROR' });\r\n        })\r\n        .then((response) => {\r\n            if (!response.ok) {\r\n                if (response.status === 500 || response.status === 503) {\r\n                    return Promise.reject({ code: 'SERVER_CONNECTION' });\r\n                }\r\n\r\n                return response.json().then(result => Promise.reject(result));\r\n            }\r\n\r\n            return response.json();\r\n        });\r\n};\r\n\r\nexport const performCheckout = () => {\r\n    return fetch('/checkout', {\r\n        method: 'POST',\r\n        headers: new Headers({\r\n            'content-type': 'application/json',\r\n        })\r\n    })\r\n        .catch(() => {\r\n            return Promise.reject({ code: 'NETWORK_ERROR' });\r\n        })\r\n        .then((response) => {\r\n            if (!response.ok) {\r\n                if (response.status === 500 || response.status === 503) {\r\n                    return Promise.reject({ code: 'SERVER_CONNECTION' });\r\n                }\r\n\r\n                return response.json().then(result => Promise.reject(result));\r\n            }\r\n\r\n            return response.json();\r\n        });\r\n};\r\n\r\n\r\n","import { createContext } from 'react';\r\n\r\nexport const UserContext = createContext(null);\r\nexport const ErrorContext = createContext(null);\r\nexport const ProductContext = createContext(null);\r\nexport const CartContext = createContext(null);\r\nexport const OrderContext = createContext(null);","import React, { useContext, useEffect, useState } from 'react';\r\nimport errorMessages from './errorMessages';\r\nimport './login.css';\r\nimport { sendLogin } from './services';\r\nimport { ErrorContext, UserContext } from './storeContext';\r\n\r\nconst Login = () => {\r\n    const { userState, setUserState } = useContext(UserContext);\r\n    const { error, setError } = useContext(ErrorContext);\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    useEffect(() => {\r\n        setError('');\r\n    }, []);\r\n\r\n    const performLogin = () => {\r\n        setUserState({\r\n            loggingOut: false\r\n        });\r\n        setError('');\r\n\r\n        if (!username) {\r\n            setError('Please enter username');\r\n            setPassword('');\r\n            return;\r\n        }\r\n\r\n        if (!password) {\r\n            setError('Please enter password');\r\n            return;\r\n        }\r\n\r\n        sendLogin(username, password)\r\n            .then((sessionInfo) => {\r\n                setUserState({\r\n                    isLoggedIn: true,\r\n                    username: sessionInfo.username\r\n                });\r\n\r\n                setError('');\r\n                setUsername('');\r\n                setPassword('');\r\n            })\r\n            .catch((err) => {\r\n                if (err.code !== 'PASSWORD_REQUIRED') {\r\n                    setUsername('');\r\n                }\r\n\r\n                setPassword('');\r\n                setError(errorMessages[err.code]);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <form>\r\n                <input value={username} className=\"login-username\" onChange={(e) => setUsername(e.target.value)} required placeholder=\"Enter username\" />\r\n                <br />\r\n                <input value={password} className=\"login-password\" type=\"password\" onChange={(e) => setPassword(e.target.value)} required placeholder=\"Enter password\" />\r\n                <br />\r\n                <input className=\"submit\" type=\"button\" value=\"Login\" onClick={performLogin} />\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;","import React, { useContext, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './logout.css';\r\nimport { logoutUser } from './services';\r\nimport { UserContext } from './storeContext';\r\n\r\nconst Logout = () => {\r\n    const { userState, setUserState } = useContext(UserContext);\r\n    const history = useHistory();\r\n    useEffect(() => {\r\n    }, []);\r\n\r\n    const performLogout = () => {\r\n        logoutUser()\r\n            .then(() => {\r\n                setUserState({\r\n                    isLoggedIn: false,\r\n                    loggingOut: true\r\n                });\r\n                history.push(\"/\");\r\n            })\r\n            .catch((err) => {\r\n                setUserState({\r\n                    isLoggedIn: false,\r\n                    loggingOut: true\r\n                });\r\n                history.push(\"/\");\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div className=\"logout-container\">\r\n            <button className=\"logout\" onClick={performLogout}>Logout</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Logout;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport errorMessages from './errorMessages';\r\nimport { addToCart } from './services';\r\nimport { CartContext, ErrorContext, ProductContext, UserContext } from './storeContext';\r\nimport './cartPageIndividualProduct.css';\r\n\r\nconst CartPageIndividualProduct = ({ productId }) => {\r\n    const { userState, setUserState } = useContext(UserContext);\r\n    const { error, setError } = useContext(ErrorContext);\r\n    const { products, setProducts } = useContext(ProductContext);\r\n    const { cart, setCart } = useContext(CartContext);\r\n    const [quantity, setQuantity] = useState(cart[productId]);\r\n    const [successMessage, setSuccessMessage] = useState('');\r\n\r\n    useEffect(() => {\r\n        submitToCart();\r\n    }, [quantity]);\r\n\r\n    const submitToCart = () => {\r\n        addToCart(productId, quantity)\r\n            .then((latestCart) => {\r\n                setCart(latestCart);\r\n                setQuantity(latestCart[productId]);\r\n                setError('');\r\n                setSuccessMessage('Your cart has been successfully updated');\r\n                setTimeout(() => {\r\n                    setSuccessMessage('');\r\n                }, 1500);\r\n            })\r\n            .catch((err) => {\r\n                setError(errorMessages[err.code || 'DEFAULT']);\r\n                setTimeout(() => {\r\n                    if (err.code === 'LOGIN_REQUIRED' || err.code === 'LOGIN_UNAUTHORIZED' || err.code === 'SERVER_CONNECTION') {\r\n                        setUserState({\r\n                            isLoggedIn: false\r\n                        });\r\n                    }\r\n                }, 2500);\r\n            });\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <p>{successMessage}</p>\r\n                <Link to={\"/product/\" + productId}><div>{products[productId]['name']}</div></Link>\r\n                <div>\r\n                    <br />\r\n                    Quantity : <select className=\"quantity-variation\" onChange={(e) => setQuantity(e.target.value)}>\r\n                        <option value=\"0\" selected={cart[productId] === 0 ? true : false}>0</option>\r\n                        <option value=\"1\" selected={cart[productId] === 1 ? true : false}>1</option>\r\n                        <option value=\"2\" selected={cart[productId] === 2 ? true : false}>2</option>\r\n                        <option value=\"3\" selected={cart[productId] === 3 ? true : false}>3</option>\r\n                        <option value=\"4\" selected={cart[productId] === 4 ? true : false}>4</option>\r\n                        <option value=\"5\" selected={cart[productId] === 5 ? true : false}>5</option>\r\n                        <option value=\"6\" selected={cart[productId] === 6 ? true : false}>6</option>\r\n                        <option value=\"7\" selected={cart[productId] === 7 ? true : false}>7</option>\r\n                        <option value=\"8\" selected={cart[productId] === 8 ? true : false}>8</option>\r\n                        <option value=\"9\" selected={cart[productId] === 9 ? true : false}>9</option>\r\n                        <option value=\"10\" selected={cart[productId] === 10 ? true : false}>10</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default CartPageIndividualProduct;","const averageProductRating = (product) => {\r\n    let ratingSum = 0.0;\r\n    let ratingCount = 0;\r\n    const reviews = product['reviews'];\r\n\r\n    for (let index = 0; index < reviews.length; index++) {\r\n        if (reviews[index]['rating']) {\r\n            ratingSum += reviews[index]['rating'];\r\n            ratingCount++;\r\n        }\r\n    }\r\n    return (Math.round((ratingSum / ratingCount) * 10) / 10);\r\n};\r\n\r\nconst buildRatingDisplayArray = (rating) => {\r\n    const ratingDisplay = [];\r\n\r\n    for (let i = 0; i < rating; i++) {\r\n        ratingDisplay.push(1);\r\n    }\r\n\r\n    for (let j = 0; j < 5 - rating; j++) {\r\n        ratingDisplay.push(0);\r\n    }\r\n\r\n    return ratingDisplay;\r\n}\r\n\r\nconst totalEntityValue = (entity, products) => {\r\n    let totalValue = 0;\r\n    Object.keys(entity).forEach(element => {\r\n        totalValue += (products[element]['price'] * entity[element]);\r\n    });\r\n\r\n    return totalValue;\r\n}\r\n\r\nexport default { averageProductRating, buildRatingDisplayArray, totalEntityValue };","import React, { useContext, useEffect, useState } from 'react';\r\nimport { useHistory, withRouter } from 'react-router-dom';\r\nimport CartPageIndividualProduct from './CartPageIndividualProduct';\r\nimport errorMessages from './errorMessages';\r\nimport { performCheckout } from './services';\r\nimport { CartContext, ErrorContext, OrderContext, ProductContext, UserContext } from './storeContext';\r\nimport storeUtil from './storeUtil';\r\nimport './cartPage.css';\r\n\r\nconst CartPage = () => {\r\n    const { cart, setCart } = useContext(CartContext);\r\n    const { orders, setOrders } = useContext(OrderContext);\r\n    const { error, setError } = useContext(ErrorContext);\r\n    const { products, setProducts } = useContext(ProductContext);\r\n    const [successMessage, setSuccessMessage] = useState('');\r\n    const { userState, setUserState } = useContext(UserContext);\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        setError('');\r\n    }, []);\r\n\r\n    const submitCheckout = () => {\r\n        performCheckout()\r\n            .then((orders) => {\r\n                setCart({});\r\n                setSuccessMessage('Your order has been successfully placed');\r\n                setTimeout(() => {\r\n                    setSuccessMessage('');\r\n                    history.push(\"/\");\r\n                }, 1500);\r\n                setOrders(orders);\r\n            })\r\n            .catch((err) => {\r\n                setError(errorMessages[err.code || 'DEFAULT']);\r\n                setTimeout(() => {\r\n                    if (err.code === 'LOGIN_REQUIRED' || err.code === 'LOGIN_UNAUTHORIZED' || err.code === 'SERVER_CONNECTION') {\r\n                        setUserState({\r\n                            isLoggedIn: false\r\n                        });\r\n                    }\r\n                }, 2500);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <p>{successMessage}</p>\r\n            {Object.keys(cart).length > 0 &&\r\n                (<div>\r\n                    {Object.keys(cart).map((value, index) => {\r\n                        return (\r\n                            <CartPageIndividualProduct productId={value} />\r\n                        )\r\n                    })}\r\n                    <p><b>Total:</b> ${storeUtil.totalEntityValue(cart, products)}</p>\r\n                    <input className=\"checkout\" type=\"button\" value=\"Checkout\" onClick={submitCheckout} />\r\n                </div>)\r\n            }\r\n\r\n            {successMessage.length === 0 && Object.keys(cart).length === 0 && <p>Your cart is empty</p>}\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default withRouter(CartPage);","import React, { useContext, useState } from 'react';\r\nimport './addToCart.css';\r\nimport errorMessages from './errorMessages';\r\nimport { addToCart } from './services';\r\nimport { CartContext, ErrorContext, UserContext } from './storeContext';\r\n\r\nconst AddToCart = ({ productId }) => {\r\n    const [successMessage, setSuccessMessage] = useState('');\r\n    const { cart, setCart } = useContext(CartContext);\r\n    const { error, setError } = useContext(ErrorContext);\r\n    const { userState, setUserState } = useContext(UserContext);\r\n\r\n    const initializeQuantity = () => {\r\n        if (cart[productId]) {\r\n            return cart[productId];\r\n        }\r\n\r\n        return 1;\r\n    }\r\n\r\n    const [quantity, setQuantity] = useState(initializeQuantity());\r\n\r\n    const submitToCart = () => {\r\n        addToCart(productId, quantity)\r\n            .then((latestCart) => {\r\n                setSuccessMessage('Your cart has been successfully updated');\r\n                setTimeout(() => {\r\n                    setSuccessMessage('');\r\n                }, 1500);\r\n\r\n                setCart(latestCart);\r\n                setQuantity(latestCart[productId]);\r\n                setError('');\r\n            })\r\n            .catch((err) => {\r\n                setError(errorMessages[err.code || 'DEFAULT']);\r\n                setTimeout(() => {\r\n                    if (err.code === 'LOGIN_REQUIRED' || err.code === 'LOGIN_UNAUTHORIZED' || err.code === 'SERVER_CONNECTION') {\r\n                        setUserState({\r\n                            isLoggedIn: false\r\n                        });\r\n                    }\r\n                }, 2500);\r\n            });\r\n    }\r\n\r\n    return (\r\n        < div  >\r\n            <p>{successMessage}</p>\r\n            <div className=\"add-product-to-cart\">\r\n                <form>\r\n                    <select className=\"quantity\" onChange={(e) => setQuantity(e.target.value)}>\r\n                        <option value=\"1\" selected={cart[productId] === 1 ? true : false}>1</option>\r\n                        <option value=\"2\" selected={cart[productId] === 2 ? true : false}>2</option>\r\n                        <option value=\"3\" selected={cart[productId] === 3 ? true : false}>3</option>\r\n                        <option value=\"4\" selected={cart[productId] === 4 ? true : false}>4</option>\r\n                        <option value=\"5\" selected={cart[productId] === 5 ? true : false}>5</option>\r\n                        <option value=\"6\" selected={cart[productId] === 6 ? true : false}>6</option>\r\n                        <option value=\"7\" selected={cart[productId] === 7 ? true : false}>7</option>\r\n                        <option value=\"8\" selected={cart[productId] === 8 ? true : false}>8</option>\r\n                        <option value=\"9\" selected={cart[productId] === 9 ? true : false}>9</option>\r\n                        <option value=\"10\" selected={cart[productId] === 10 ? true : false}>10</option>\r\n                    </select>\r\n                    <input className=\"add-to-cart\" type=\"button\" value=\"Add to cart\" onClick={submitToCart} />\r\n                </form>\r\n            </div>\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default AddToCart;","import React, { useContext, useState } from 'react';\r\nimport errorMessages from './errorMessages';\r\nimport { addReview } from './services';\r\nimport { ErrorContext, ProductContext, UserContext } from './storeContext';\r\nimport './addReview.css';\r\n\r\nconst AddReview = ({ productId }) => {\r\n    const [rating, setRating] = useState(3);\r\n    const [reviewText, setReviewText] = useState('');\r\n    const { products, setProducts } = useContext(ProductContext);\r\n    const { error, setError } = useContext(ErrorContext);\r\n    const { userState, setUserState } = useContext(UserContext);\r\n\r\n    const submitReview = () => {\r\n        addReview(rating, reviewText, productId)\r\n            .then((currentProducts) => {\r\n                setProducts(currentProducts);\r\n                setError('');\r\n                setRating(3);\r\n                setReviewText('');\r\n            })\r\n            .catch((err) => {\r\n                setError(errorMessages[err.code || 'DEFAULT']);\r\n                setTimeout(() => {\r\n                    if (err.code === 'LOGIN_REQUIRED' || err.code === 'LOGIN_UNAUTHORIZED' || err.code === 'SERVER_CONNECTION') {\r\n                        setUserState({\r\n                            isLoggedIn: false\r\n                        });\r\n                    }\r\n                }, 2500);\r\n\r\n                setRating(3);\r\n                setReviewText('');\r\n            });\r\n    }\r\n\r\n    return (\r\n        <div className=\"add-product-review\">\r\n            <form>\r\n                <br />\r\n                <span> Add Product Rating :  </span>\r\n                <select className=\"review-selection\" value={rating} onChange={(e) => setRating(e.target.value)}>\r\n                    <option value=\"1\">1</option>\r\n                    <option value=\"2\">2</option>\r\n                    <option value=\"3\">3</option>\r\n                    <option value=\"4\">4</option>\r\n                    <option value=\"5\">5</option>\r\n                </select>\r\n                <br />\r\n                <br />\r\n                <textarea className=\"review-area\" value={reviewText} onChange={(e) => setReviewText(e.target.value)} placeholder=\"Enter review\" />\r\n                <br />\r\n                <br />\r\n                <input className=\"add-review\" type=\"button\" value=\"Add Review\" onClick={submitReview} />\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AddReview;","import React, { useContext, useEffect } from 'react';\r\nimport './displayReviews.css';\r\nimport { ErrorContext, ProductContext } from './storeContext';\r\nimport reviewUtil from './storeUtil';\r\n\r\nconst DisplayReviews = ({ productId }) => {\r\n    const { error, setError } = useContext(ErrorContext);\r\n    const { products, setProducts } = useContext(ProductContext);\r\n\r\n    useEffect(() => {\r\n        setError('');\r\n    }, []);\r\n\r\n    const renderAllReviews = () => {\r\n        return (\r\n            <div>\r\n                {\r\n                    products[productId]['reviews'].map((value, index) => {\r\n                        return renderEachReview(index);\r\n                    })}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const renderStarRatings = (rating) => {\r\n        const ratingDisplay = reviewUtil.buildRatingDisplayArray(rating);\r\n        return ratingDisplay.map((value, index) => {\r\n            return (<span className=\"star-rating\">{value === 1 ? \"★\" : \"☆\"}</span>)\r\n        });\r\n    }\r\n\r\n    const renderEachReview = (reviewIndex) => {\r\n        return (<div key={reviewIndex} className=\"individual-review\">\r\n            <div className=\"reviewer-name\"> {products[productId]['reviews'][reviewIndex]['username']}</div>\r\n            {products[productId]['reviews'][reviewIndex]['rating'] &&\r\n                renderStarRatings(products[productId]['reviews'][reviewIndex]['rating'])\r\n            }\r\n            {products[productId]['reviews'][reviewIndex]['text'] && <div>{products[productId]['reviews'][reviewIndex]['text']}</div>}\r\n            <div className=\"review-time\">{products[productId]['reviews'][reviewIndex]['reviewTime']}</div>\r\n        </div >\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <b>REVIEWS</b>\r\n            {renderAllReviews()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DisplayReviews;","import React from 'react';\r\nimport AddReview from './AddReview';\r\nimport DisplayReviews from './DisplayReviews';\r\n\r\nconst ProductReviews = ({ productId }) => {\r\n    return (\r\n        <div className=\"individual-product-reviews\">\r\n            <DisplayReviews productId={productId} />\r\n            <AddReview productId={productId} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductReviews;","import React, { useContext, useState } from 'react';\r\nimport { useParams, withRouter } from 'react-router-dom';\r\nimport AddToCart from './AddToCart';\r\nimport './detailPageIndividualProduct.css';\r\nimport ProductReviews from './ProductReviews';\r\nimport { ErrorContext, ProductContext, UserContext } from './storeContext';\r\n\r\nconst DetailPageIndividualProduct = () => {\r\n    const { userState, setUserState } = useContext(UserContext);\r\n    const { error, setError } = useContext(ErrorContext);\r\n    const { products, setProducts } = useContext(ProductContext);\r\n    const [productId, setProductId] = useState(useParams()['id']);\r\n\r\n    const detailProductDisplay = () => {\r\n        if (products && products[productId]) {\r\n            return (\r\n                <div className=\"product-description\">\r\n                    <div className=\"product-details\">\r\n                        <img className=\"display-product\" src={products[productId]['image']} alt={products[productId]['name']} />\r\n                        <div className=\"product-attributes\">\r\n                            <div><b>{products[productId]['name']}</b></div>\r\n                            <div>Price: $ {products[productId]['price']}</div>\r\n                            <div>{products[productId]['details']}</div>\r\n                            <AddToCart productId={productId} />\r\n                        </div>\r\n                    </div>\r\n                    <hr />\r\n                    <ProductReviews productId={productId} />\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                detailProductDisplay()\r\n            }\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default withRouter(DetailPageIndividualProduct);","import React, { useContext, useEffect } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport './homePageIndividualProduct.css';\r\nimport { ErrorContext, ProductContext, UserContext } from './storeContext';\r\nimport reviewUtil from './storeUtil';\r\n\r\nconst HomePageIndividualProduct = ({ productId }) => {\r\n    const { userState, setUserState } = useContext(UserContext);\r\n    const { error, setError } = useContext(ErrorContext);\r\n    const { products, setProducts } = useContext(ProductContext);\r\n\r\n    useEffect(() => {\r\n        setError('');\r\n    }, []);\r\n\r\n    return (\r\n        <div key={productId} className=\"individual-homepage-product\">\r\n            <Link className=\"product-label\" to={\"/product/\" + productId}>\r\n                <div className=\"image-container\">\r\n                    <Link to={\"/product/\" + productId}>\r\n                        <img className=\"display-product\" src={products[productId]['image']} alt={products[productId]['name']} />\r\n                    </Link>\r\n                </div>\r\n                <br />\r\n                <div className=\"product-content\">\r\n                    <span>{products[productId]['name']}</span>\r\n                    <div className=\"product-details\">\r\n                        <div> Price: ${products[productId]['price']} </div>\r\n                        <div className=\"item-rating\"> Average Rating: {reviewUtil.averageProductRating(products[productId])} /5 </div>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default withRouter(HomePageIndividualProduct);","import reviewUtil from './storeUtil';\r\n\r\nexport const methods = {\r\n    nameAscending: 'Name (A-Z)',\r\n    nameDescending: 'Name (Z-A)',\r\n    priceAscending: 'Price (Low to High)',\r\n    priceDescending: 'Price (High to Low)',\r\n    AverageRatingDescending: 'Average Rating (High to Low)'\r\n};\r\n\r\nexport const sortProducts = ({ by, list }) => {\r\n    const elementsArray = Object.keys(list).map(function (key) {\r\n        return [key, list[key]];\r\n    });\r\n\r\n    if (by === 'nameDescending') {\r\n        return [...elementsArray].sort((a, b) => a[1]['name'] >= b[1]['name'] ? -1 : 1);\r\n    } else if (by === 'priceDescending') {\r\n        return [...elementsArray].sort((a, b) => a[1]['price'] >= b[1]['price'] ? -1 : 1);\r\n    } else if (by === 'priceAscending') {\r\n        return [...elementsArray].sort((a, b) => a[1]['price'] >= b[1]['price'] ? 1 : -1);\r\n    } else if (by === 'AverageRatingDescending') {\r\n        return [...elementsArray].sort((a, b) => reviewUtil.averageProductRating(list[a[0]]) >=\r\n            reviewUtil.averageProductRating(list[b[0]]) ? -1 : 1);\r\n    }\r\n\r\n    return [...elementsArray].sort((a, b) => a[1]['name'] >= b[1]['name'] ? 1 : -1);\r\n};\r\n\r\nexport const buildFilteredProducts = (list, searchString) => {\r\n    if (!searchString || searchString.trim().length === 0) {\r\n        return list;\r\n    }\r\n\r\n    let filteredProducts = Object.keys(list).reduce(function (filteredProducts, key) {\r\n        if (list[key]['name'].toLowerCase().includes(searchString.toLowerCase())) {\r\n            filteredProducts[key] = list[key];\r\n        }\r\n\r\n        return filteredProducts;\r\n    }, {});\r\n\r\n    return filteredProducts;\r\n}\r\n","import React from 'react';\r\nimport { methods } from './productsUtil';\r\nimport './controls.css';\r\n\r\nconst Controls = ({\r\n    sortBy,\r\n    setSortBy\r\n}) => {\r\n\r\n    const buttons = Object.keys(methods).map(method => (\r\n        <option\r\n            key={method}\r\n            className={method === sortBy ? 'active' : ''}\r\n            value={method}>\r\n            {methods[method]}\r\n        </option >\r\n    ));\r\n\r\n    return (\r\n        <div className=\"controls\">\r\n            <label htmlFor=\"products-sort\">Sort by: </label>\r\n            <select className=\"products-sort\" onChange={(e) => {\r\n                setSortBy(e.target.value);\r\n            }}>\r\n                {buttons}\r\n            </select>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Controls;","import React, { useContext, useEffect } from 'react';\r\nimport './homePageAllProducts.css';\r\nimport HomePageIndividualProduct from './HomePageIndividualProduct';\r\nimport { ErrorContext, ProductContext, UserContext } from './storeContext';\r\nimport { useState } from 'react';\r\nimport Controls from './Controls';\r\nimport { sortProducts, buildFilteredProducts } from './productsUtil';\r\n\r\nconst HomePageAllProducts = () => {\r\n    const { userState, setUserState } = useContext(UserContext);\r\n    const { error, setError } = useContext(ErrorContext);\r\n    const { products, setProducts } = useContext(ProductContext);\r\n    const [sortBy, setSortBy] = useState('');\r\n    const [productSearchString, setProductSearchString] = useState('');\r\n    const [filteredProducts, setFilteredProducts] = useState(products);\r\n\r\n    useEffect(() => {\r\n        setFilteredProducts(products);\r\n        setError('');\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        setFilteredProducts(buildFilteredProducts(products, productSearchString));\r\n    }, [productSearchString]);\r\n\r\n    const renderAllProducts = () => {\r\n        const sortedProducts =\r\n            (!productSearchString || productSearchString.trim().length === 0) &&\r\n                Object.keys(filteredProducts).length === 0 ? sortProducts({ by: sortBy, list: products }) :\r\n                sortProducts({ by: sortBy, list: filteredProducts });\r\n\r\n        return (sortedProducts.map((value, index) => {\r\n            return (\r\n                <HomePageIndividualProduct productId={value[0]} />\r\n            )\r\n        }));\r\n    }\r\n\r\n    return (\r\n        <div className=\"overall-container\">\r\n            <div className=\"username-homepage\">Welcome <i><span className=\"user\"> {userState.username}, </span></i> grab them while they are fresh!</div>\r\n            <div className=\"filter-actions\">\r\n                <input value={productSearchString} className=\"products-search\"\r\n                    onChange={(e) => setProductSearchString(e.target.value)} placeholder=\"Search products...🔍\" />\r\n                <Controls sortBy={sortBy} setSortBy={setSortBy} />\r\n            </div>\r\n            <div className=\"product-container\">\r\n                {renderAllProducts()}\r\n            </div>\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default HomePageAllProducts;","import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { ProductContext } from './storeContext';\r\nimport storeUtil from './storeUtil';\r\n\r\nconst OrdersPageIndividualOrder = ({ orderDetails, orderTime }) => {\r\n    const { products, setProducts } = useContext(ProductContext);\r\n\r\n    return (\r\n        <div>\r\n            <p>You placed this order at {orderTime}</p>\r\n            {Object.keys(orderDetails).map((value, index) => {\r\n                return (\r\n                    <div>\r\n                        <Link to={\"/product/\" + value}><span>{products[value]['name']}</span></Link>\r\n                        <br />\r\n                        <br />\r\n                        <div> Quantity: {orderDetails[value]} </div>\r\n                        <br />\r\n                    </div>\r\n                )\r\n            })}\r\n            <p><b>Total: </b>$ {storeUtil.totalEntityValue(orderDetails, products)}</p>\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default OrdersPageIndividualOrder;","import React, { useContext } from 'react';\r\nimport OrdersPageIndividualOrder from './OrdersPageIndividualOrder';\r\nimport { OrderContext } from './storeContext';\r\n\r\nconst MyOrders = () => {\r\n    const { orders, setOrders } = useContext(OrderContext);\r\n\r\n    return (\r\n        <div>\r\n            <p><b>My Orders:</b></p>\r\n            {orders && orders.length > 0 &&\r\n                (<div>\r\n                    {orders.map((value, index) => {\r\n                        return (\r\n                            <OrdersPageIndividualOrder orderDetails={value['orderDetails']} orderTime={value['orderTime']} />\r\n                        )\r\n                    })}\r\n                </div>)\r\n            }\r\n            {(!orders || orders.length === 0) && <p>You dont have any orders yet</p>}\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default MyOrders;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { Route, Switch, withRouter } from 'react-router-dom';\r\nimport CartPage from './CartPage';\r\nimport DetailPageIndividualProduct from './DetailPageIndividualProduct';\r\nimport errorMessages from './errorMessages';\r\nimport HomePageAllProducts from './HomePageAllProducts';\r\nimport MyOrders from './MyOrders';\r\nimport { fetchCart, fetchOrders, fetchProducts } from './services';\r\nimport { CartContext, ErrorContext, OrderContext, ProductContext, UserContext } from './storeContext';\r\n\r\nconst Store = () => {\r\n    const { error, setError } = useContext(ErrorContext);\r\n    const [products, setProducts] = useState({});\r\n    const [cart, setCart] = useState({});\r\n    const [orders, setOrders] = useState([]);\r\n    const { userState, setUserState } = useContext(UserContext);\r\n\r\n    useEffect(() => {\r\n        setError('');\r\n\r\n        fetchProducts()\r\n            .then((productsList) => {\r\n                setProducts(productsList);\r\n            })\r\n            .catch((err) => {\r\n                setError(errorMessages[err.code || 'DEFAULT']);\r\n                setTimeout(() => {\r\n                    if (err.code === 'LOGIN_REQUIRED' || err.code === 'LOGIN_UNAUTHORIZED' || err.code === 'SERVER_CONNECTION') {\r\n                        setUserState({\r\n                            isLoggedIn: false\r\n                        });\r\n                    }\r\n                }, 2500);\r\n            });\r\n\r\n        fetchCart()\r\n            .then((cart) => {\r\n                setCart(cart);\r\n            })\r\n            .catch((err) => {\r\n                setError(errorMessages[err.code || 'DEFAULT']);\r\n                setTimeout(() => {\r\n                    if (err.code === 'LOGIN_REQUIRED' || err.code === 'LOGIN_UNAUTHORIZED' || err.code === 'SERVER_CONNECTION') {\r\n                        setUserState({\r\n                            isLoggedIn: false\r\n                        });\r\n                    }\r\n                }, 2500);\r\n            });\r\n\r\n        fetchOrders()\r\n            .then((orders) => {\r\n                setOrders(orders);\r\n            })\r\n            .catch((err) => {\r\n                setError(errorMessages[err.code || 'DEFAULT']);\r\n                setTimeout(() => {\r\n                    if (err.code === 'LOGIN_REQUIRED' || err.code === 'LOGIN_UNAUTHORIZED' || err.code === 'SERVER_CONNECTION') {\r\n                        setUserState({\r\n                            isLoggedIn: false\r\n                        });\r\n                    }\r\n                }, 2500);\r\n            });\r\n    }, []);\r\n\r\n    return (\r\n        <ProductContext.Provider value={{ products, setProducts }}>\r\n            <CartContext.Provider value={{ cart, setCart }}>\r\n                <OrderContext.Provider value={{ orders, setOrders }}>\r\n                    <div>\r\n                        <Switch>\r\n                            <Route exact path=\"/\" component={HomePageAllProducts} />\r\n                            <Route exact path=\"/product/:id\" component={DetailPageIndividualProduct} />\r\n                            <Route exact path=\"/mycart/\" component={CartPage} />\r\n                            <Route exact path=\"/myorders/\" component={MyOrders} />\r\n                        </Switch>\r\n                    </div>\r\n                </OrderContext.Provider>\r\n            </CartContext.Provider>\r\n        </ProductContext.Provider >\r\n    );\r\n};\r\n\r\nexport default withRouter(Store);","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './App.css';\r\nimport Login from './Login';\r\nimport Logout from './Logout';\r\nimport { fetchLoginStatus } from './services';\r\nimport Store from './Store';\r\nimport { ErrorContext, UserContext } from './storeContext';\r\n\r\nconst App = () => {\r\n  const [userState, setUserState] = useState({ isLoggedIn: false });\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchLoginStatus()\r\n      .then((username) => {\r\n        setUserState({\r\n          isLoggedIn: true,\r\n          username\r\n        });\r\n        setError('');\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <UserContext.Provider value={{ userState, setUserState }}>\r\n        <ErrorContext.Provider value={{ error, setError }}>\r\n          <div className=\"app-header\">\r\n            <div className=\"logo-header\">\r\n              <img className=\"logo\" src=\"/logo_updated.png\" alt=\"SO\" />\r\n              <Link to={\"/\"} className=\"store-header\"> <h1>SHOP ORGANICS</h1> </Link>\r\n            </div>\r\n            {userState.isLoggedIn &&\r\n              (\r\n                <div className=\"home-actions\">\r\n                  <Link className=\"store-header-cart\" to={\"/mycart/\"}><span> Cart </span></Link>\r\n                  <Link className=\"store-header-orders\" to={\"/myorders/\"}><span> My Orders </span></Link>\r\n                  <Logout />\r\n                </div>)\r\n            }\r\n          </div>\r\n          {!userState.loggingOut && <p>{error}</p>}\r\n          {userState.isLoggedIn ?\r\n            < Store /> :\r\n            <Login />}\r\n        </ErrorContext.Provider>\r\n      </UserContext.Provider>\r\n    </div >\r\n  );\r\n};\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport App from './App';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter >\r\n      <App />\r\n    </BrowserRouter >\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}